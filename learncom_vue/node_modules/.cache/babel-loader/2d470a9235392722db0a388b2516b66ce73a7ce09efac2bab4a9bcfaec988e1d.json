{"ast":null,"code":"import router from '@/router';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      course: {},\n      lessons: [],\n      activeLesson: null,\n      comments: [],\n      comment: {\n        name: '',\n        content: ''\n      }\n    };\n  },\n  mounted() {\n    const slug = this.$route.params.slug;\n    axios.get(`/api/v1/courses/${slug}/`).then(response => {\n      console.log(response.data);\n      this.course = response.data.course;\n      this.lessons = response.data.lessons;\n    });\n  },\n  methods: {\n    submitComment() {\n      console.log(\"submit comment\");\n      axios.post(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/`, this.comment).then(response => {\n        this.comment.name = '';\n        this.comment.content = '';\n        alert('The comment was added');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    setActiveLesson(lesson) {\n      this.activeLesson = lesson;\n      this.getComments();\n    },\n    getComments() {\n      axios.get(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`).then(response => {\n        console.log(response.data);\n        this.comments = response.data;\n      });\n    }\n  },\n  components: {\n    router\n  }\n};","map":{"version":3,"names":["router","axios","data","course","lessons","activeLesson","comments","comment","name","content","mounted","slug","$route","params","get","then","response","console","log","methods","submitComment","post","alert","catch","error","setActiveLesson","lesson","getComments","components"],"sources":["/Users/nurzhansaktaganov/Desktop/LMS/learncom_vue/src/views/CourseDetail.vue"],"sourcesContent":["<template>\n    <div class=\"courses\">\n        <div class=\"hero is-info\">\n            <div class=\"hero-body has-text-centered\">\n                <h1 class=\"title\"> {{ course.title }} </h1>\n            </div>\n        </div>\n\n        <section class=\"section\">\n            <div class=\"container\">\n                <div class=\"columns content\">\n                    <div class=\"column is-2\">\n                        <h2>Table of contents</h2>\n                        <ul>\n                            <li v-for=\"lesson in lessons\" v-bind:key=\"lesson.id\">\n                                <a @click=\"setActiveLesson(lesson)\">{{ lesson.title }}</a>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <div class=\"column is-10\">\n                        <h2>Introduction</h2>\n                        <template v-if=\"$store.state.user.isAuthenticated\">\n                            <template v-if=\"activeLesson\">\n                                <h2>{{ activeLesson.title }}</h2>\n                                {{ activeLesson.long_desription }}\n                                <hr>\n\n                                <article class=\"media\">\n                                    <div class=\"media-content\">\n                                        <div class=\"content\">\n                                            <p>\n                                                <strong>{{ comment.name }}</strong>\n                                                {{ comment.created_at }}<br>\n                                                {{ comment.content }}\n                                            </p>\n                                        </div>\n                                    </div>\n                                </article>\n\n                                <form v-on:submit.prevent=\"submitComment()\">\n                                    <div class=\"field\">\n                                        <label class=\"label\">Name</label>\n                                        <div class=\"control\">\n                                            <input type=\"text\" class=\"input\" v-model=\"comment.name\">\n                                        </div>\n                                    </div>\n\n                                    <div class=\"field\">\n                                        <label class=\"label\">Content</label>\n                                        <div class=\"control\">\n                                            <textarea class=\"textarea\" v-model=\"comment.content\"></textarea>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"field\">\n                                        <div class=\"control\">\n                                            <button type=\"submit\" class=\"button is-link\">submit</button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </template>\n\n                            <template v-else>\n                                <p>{{ course.long_desription }}</p>\n                            </template>\n\n                        </template>\n                        <template v-else>\n                            <h2> Restricted access </h2>\n                            <p>Please sig in</p>\n                        </template>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n<script>\nimport router from '@/router';\nimport axios from 'axios';\nexport default {\n    data() {\n        return {\n            course: {},\n            lessons: [],\n            activeLesson: null,\n            comments: [],\n            comment: {\n                name: '',\n                content: ''\n            }\n        };\n    },\n    mounted() {\n\n        const slug = this.$route.params.slug\n        axios\n            .get(`/api/v1/courses/${slug}/`)\n            .then(response => {\n                console.log(response.data);\n                this.course = response.data.course;\n                this.lessons = response.data.lessons;\n            });\n    },\n\n    methods:{\n        submitComment(){\n            console.log(\"submit comment\")\n\n            axios\n                .post(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/`, this.comment)\n                .then(response=>{\n                    this.comment.name = ''\n                    this.comment.content = ''\n                    alert('The comment was added')\n                })\n                .catch(error=>{\n                    console.log(error)\n                })\n        },\n        setActiveLesson(lesson){\n            this.activeLesson = lesson\n\n            this.getComments()\n        },\n        getComments(){\n\n            axios\n                .get(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`)\n                .then(response=>{\n                    console.log(response.data)\n                    this.comments = response.data\n                })\n                \n        }\n    },\n\n\n    components: { router }\n}\n</script>"],"mappings":"AA+EA,OAAOA,MAAK,MAAO,UAAU;AAC7B,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE,CAAC,CAAC;MACVC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;QACLC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE;MACb;IACJ,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IAEN,MAAMC,IAAG,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,IAAG;IACnCV,KAAI,CACCa,GAAG,CAAE,mBAAkBH,IAAK,GAAE,EAC9BI,IAAI,CAACC,QAAO,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACd,IAAI,CAAC;MAC1B,IAAI,CAACC,MAAK,GAAIa,QAAQ,CAACd,IAAI,CAACC,MAAM;MAClC,IAAI,CAACC,OAAM,GAAIY,QAAQ,CAACd,IAAI,CAACE,OAAO;IACxC,CAAC,CAAC;EACV,CAAC;EAEDe,OAAO,EAAC;IACJC,aAAaA,CAAA,EAAE;MACXH,OAAO,CAACC,GAAG,CAAC,gBAAgB;MAE5BjB,KAAI,CACCoB,IAAI,CAAE,kBAAiB,IAAI,CAAClB,MAAM,CAACQ,IAAK,IAAG,IAAI,CAACN,YAAY,CAACM,IAAK,GAAE,EAAE,IAAI,CAACJ,OAAO,EAClFQ,IAAI,CAACC,QAAQ,IAAE;QACZ,IAAI,CAACT,OAAO,CAACC,IAAG,GAAI,EAAC;QACrB,IAAI,CAACD,OAAO,CAACE,OAAM,GAAI,EAAC;QACxBa,KAAK,CAAC,uBAAuB;MACjC,CAAC,EACAC,KAAK,CAACC,KAAK,IAAE;QACVP,OAAO,CAACC,GAAG,CAACM,KAAK;MACrB,CAAC;IACT,CAAC;IACDC,eAAeA,CAACC,MAAM,EAAC;MACnB,IAAI,CAACrB,YAAW,GAAIqB,MAAK;MAEzB,IAAI,CAACC,WAAW,CAAC;IACrB,CAAC;IACDA,WAAWA,CAAA,EAAE;MAET1B,KAAI,CACCa,GAAG,CAAE,kBAAiB,IAAI,CAACX,MAAM,CAACQ,IAAK,IAAG,IAAI,CAACN,YAAY,CAACM,IAAK,eAAc,EAC/EI,IAAI,CAACC,QAAQ,IAAE;QACZC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACd,IAAI;QACzB,IAAI,CAACI,QAAO,GAAIU,QAAQ,CAACd,IAAG;MAChC,CAAC;IAET;EACJ,CAAC;EAGD0B,UAAU,EAAE;IAAE5B;EAAO;AACzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}