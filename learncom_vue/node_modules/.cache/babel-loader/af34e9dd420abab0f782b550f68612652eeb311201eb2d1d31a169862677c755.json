{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      form: {\n        title: '',\n        short_desription: '',\n        long_desription: '',\n        categories: [],\n        status: '',\n        lessons: []\n      },\n      categories: []\n    };\n  },\n  mounted() {\n    this.getCategories();\n  },\n  methods: {\n    getCategories() {\n      axios.get('courses/get-categories/').then(response => {\n        this.categories = response.data;\n      });\n    },\n    submitForm(status) {\n      this.form.status = status;\n      console.log(this.form);\n      axios.post('courses/create/', this.form).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log('error:', error);\n      });\n    },\n    addLesson() {\n      console.log(\"Lesson work\");\n      this.form.lessons.push({\n        title: '',\n        short_desription: '',\n        long_desription: ''\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","form","title","short_desription","long_desription","categories","status","lessons","mounted","getCategories","methods","get","then","response","submitForm","console","log","post","catch","error","addLesson","push"],"sources":["/Users/nurzhansaktaganov/Desktop/LMS/learncom_vue/src/views/dashboard/CreateCourse.vue"],"sourcesContent":["<template>\n    <div class=\"about\">\n        <div class=\"hero is-info\">\n            <div class=\"hero-body has-text-centered\">\n                <h1 class=\"title\">Create Course</h1>\n            </div>\n        </div>\n\n        <section class=\"section\">\n\n            <div class=\"px-6 py-4 has-background-grey-lighter\">\n                <h2 class=\"subtitle\">Meta infomation</h2>\n\n                <div class=\"field\">\n                    <label>Title</label>\n                    <input type=\"text\" class=\"input\" v-model=\"form.title\">\n                </div>\n\n                <div class=\"field\">\n                    <label>Short description</label>\n                    <textarea type=\"text\" class=\"input\" v-model=\"form.short_desription\" />\n                </div>\n\n                <div class=\"field\">\n                    <label>Long description</label>\n                    <textarea type=\"text\" class=\"input\" v-model=\"form.long_desription\" />\n                </div>\n\n                <div class=\"field\">\n                    <div class=\"select is-multiple\">\n                        <select multiple size=\"10\" v-model=\"form.categories\">\n                            <option v-for=\"category in categories\" v-bind=\"category.id\" v-bind:value=\"category.id\">\n                                {{ category.title }}\n                            </option>\n\n                        </select>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"mt-6 px-6 py-4 has-background-grey-lighter\">\n                <h2 class=\"subtitle\">Lessons infomation</h2>\n                <hr>\n\n                <div v-for=\"(lesson, index) in form.lessons\" v-bind:key=\"index\" class=\"mb-4\">\n\n                    <h3 class=\"subtitle is-size-6\">Lesson</h3>\n                    <div class=\"field\">\n                        <label>Title</label>\n                        <input type=\"text\" class=\"input\" v-model=\"lesson.title\" :name=\"`form.lessons[${index}][title]`\">\n                    </div>\n                    <div class=\"field\">\n                        <label>Short description</label>\n                        <textarea type=\"text\" class=\"input\" v-model=\"lesson.short_desription\" :name=\"`form.lessons[${index}][short_desription]`\"/>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Long description</label>\n                        <textarea type=\"text\" class=\"input\" v-model=\"lesson.long_desription\" :name=\"`form.lessons[${index}][long_desription]`\"/>\n                    </div>\n\n                </div>\n                <button class=\"button is-primary\" @click=\"addLesson()\">Add lesson</button>\n            </div>\n\n\n            <div class=\"field buttons\">\n                <button class=\"button is-success\" @click=\"submitForm('draft')\">Save as draft</button>\n                <button class=\"button is-info\" @click=\"submitForm('review')\">Submit for review</button>\n            </div>\n\n        </section>\n\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    data() {\n        return {\n            form: {\n                title: '',\n                short_desription: '',\n                long_desription: '',\n                categories: [],\n                status: '',\n                lessons: [],\n            },\n            categories: [],\n\n        }\n    },\n\n    mounted() {\n        this.getCategories()\n    },\n\n    methods: {\n        getCategories() {\n            axios\n                .get('courses/get-categories/')\n                .then(response => {\n                    this.categories = response.data\n\n                })\n        },\n\n        submitForm(status) {\n\n            this.form.status = status\n            console.log(this.form)\n            axios\n                .post('courses/create/', this.form)\n                .then(response => {\n                    console.log(response.data)\n                })\n                .catch(error => {\n                    console.log('error:', error)\n                })\n        },\n\n        addLesson() {\n            console.log(\"Lesson work\")\n\n            this.form.lessons.push({\n                title: '',\n                short_desription: '',\n                long_desription: ''\n            })\n        }\n    }\n\n}\n</script>"],"mappings":";AA6EA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFC,KAAK,EAAE,EAAE;QACTC,gBAAgB,EAAE,EAAE;QACpBC,eAAe,EAAE,EAAE;QACnBC,UAAU,EAAE,EAAE;QACdC,MAAM,EAAE,EAAE;QACVC,OAAO,EAAE;MACb,CAAC;MACDF,UAAU,EAAE;IAEhB;EACJ,CAAC;EAEDG,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,aAAa,CAAC;EACvB,CAAC;EAEDC,OAAO,EAAE;IACLD,aAAaA,CAAA,EAAG;MACZV,KAAI,CACCY,GAAG,CAAC,yBAAyB,EAC7BC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACR,UAAS,GAAIQ,QAAQ,CAACb,IAAG;MAElC,CAAC;IACT,CAAC;IAEDc,UAAUA,CAACR,MAAM,EAAE;MAEf,IAAI,CAACL,IAAI,CAACK,MAAK,GAAIA,MAAK;MACxBS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,IAAI;MACrBF,KAAI,CACCkB,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAChB,IAAI,EACjCW,IAAI,CAACC,QAAO,IAAK;QACdE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACb,IAAI;MAC7B,CAAC,EACAkB,KAAK,CAACC,KAAI,IAAK;QACZJ,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEG,KAAK;MAC/B,CAAC;IACT,CAAC;IAEDC,SAASA,CAAA,EAAG;MACRL,OAAO,CAACC,GAAG,CAAC,aAAa;MAEzB,IAAI,CAACf,IAAI,CAACM,OAAO,CAACc,IAAI,CAAC;QACnBnB,KAAK,EAAE,EAAE;QACTC,gBAAgB,EAAE,EAAE;QACpBC,eAAe,EAAE;MACrB,CAAC;IACL;EACJ;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}