{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '@/router';\nimport axios from 'axios';\nimport CommentComponent from '@/components/CommentComponent.vue';\nimport AddCommentComponent from '@/components/AddCommentComponent.vue';\nimport QuizComponent from '@/components/QuizComponent.vue';\nimport VideoComponent from '@/components/VideoComponent.vue';\nexport default {\n  data() {\n    return {\n      course: {\n        created_by: {}\n      },\n      lessons: [],\n      activeLesson: null,\n      errors: [],\n      comments: [],\n      quiz: {},\n      selectedAnswer: '',\n      quizResult: null,\n      activity: {}\n    };\n  },\n  async mounted() {\n    const slug = this.$route.params.slug;\n    await axios.get(`/courses/${slug}/`).then(response => {\n      console.log(response.data);\n      this.course = response.data.course;\n      this.lessons = response.data.lessons;\n    });\n    document.title = this.course.title;\n  },\n  methods: {\n    submitComment(comment) {\n      this.comments.push(comment);\n    },\n    setActiveLesson(lesson) {\n      this.activeLesson = lesson;\n      if (lesson.lesson_type === 'quiz') {\n        this.getQuiz();\n      } else {\n        this.getComments();\n      }\n      this.trackStarted();\n    },\n    trackStarted() {\n      axios.post(`activities/track-started/${this.$route.params.slug}/${this.activeLesson.slug}/`).then(response => {\n        console.log(response.data);\n        this.activity = response.data;\n      }).catch(error => {\n        console.log(error.data);\n      });\n    },\n    markAsDone() {\n      axios.post(`activities/mark-as-done/${this.$route.params.slug}/${this.activeLesson.slug}/`).then(response => {\n        console.log(response.data);\n        this.activity = response.data;\n      }).catch(error => {\n        console.log(error.data);\n      });\n    },\n    getQuiz() {\n      axios.get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`).then(response => {\n        this.quiz = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getComments() {\n      axios.get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`).then(response => {\n        console.log(response.data);\n        this.comments = response.data;\n      });\n    }\n  },\n  components: {\n    router,\n    CommentComponent,\n    AddCommentComponent,\n    QuizComponent,\n    VideoComponent\n  }\n};","map":{"version":3,"names":["router","axios","CommentComponent","AddCommentComponent","QuizComponent","VideoComponent","data","course","created_by","lessons","activeLesson","errors","comments","quiz","selectedAnswer","quizResult","activity","mounted","slug","$route","params","get","then","response","console","log","document","title","methods","submitComment","comment","push","setActiveLesson","lesson","lesson_type","getQuiz","getComments","trackStarted","post","catch","error","markAsDone","components"],"sources":["/Users/nurzhansaktaganov/Desktop/LMS/learncom_vue/src/views/CourseDetail.vue"],"sourcesContent":["<template>\n    <div class=\"courses\">\n        <div class=\"hero is-info\">\n            <div class=\"hero-body has-text-centered\">\n                <h1 class=\"title\"> {{ course.title }} </h1>\n                <p class=\"subtitle\">{{ course.created_by.first_name + ' ' + course.created_by.last_name }}</p>\n            </div>\n        </div>\n\n        <section class=\"section\">\n            <div class=\"container\">\n                <div class=\"columns content\">\n                    <div class=\"column is-2\">\n                        <h2>Table of contents</h2>\n                        <ul>\n                            <li v-for=\"lesson in lessons\" v-bind:key=\"lesson.id\">\n                                <a @click=\"setActiveLesson(lesson)\">{{ lesson.title }}</a>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <div class=\"column is-10\">\n                        <h2>Introduction</h2>\n                        <template v-if=\"$store.state.user.isAuthenticated\">\n                            <template v-if=\"activeLesson\">\n                                <h2>{{ activeLesson.title }}</h2>\n                                <hr>\n\n                                <span class=\"tag is-warning\" v-if=\"activity.status == 'started'\" @click=\"markAsDone\">\n                                    Started\n                                </span>\n\n                                <span class=\"tag is-success\" v-else=\"activity.status == 'done'\">\n                                    Done\n                                </span>\n\n                                <hr>\n                                {{ activeLesson.long_desription }}\n                                <hr>\n\n                                <template v-if=\"activeLesson.lesson_type === 'quiz'\">\n                                    <QuizComponent v-bind:quiz=\"quiz\" />\n                                </template>\n\n                                <template v-if=\"activeLesson.lesson_type === 'video'\">\n                                    <VideoComponent v-bind:youtube_id=\"activeLesson.youtube_id\" />\n                                </template>\n\n                                <template v-if=\"activeLesson.lesson_type === 'article'\">\n                                    <CommentComponent v-for=\"comment in comments\" v-bind:key=\"comment.id\"\n                                        v-bind:comment=\"comment\" />\n\n                                    <AddCommentComponent v-bind:course=\"course\" v-bind:active-lesson=\"activeLesson\"\n                                        v-on:submitComment=\"submitComment\" />\n\n                                </template>\n                            </template>\n                            <template v-else>\n                                <p>{{ course.long_desription }}</p>\n                            </template>\n\n                        </template>\n                        <template v-else>\n                            <h2> Restricted access </h2>\n                            <p>Please sig in</p>\n                        </template>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n<script>\nimport router from '@/router';\nimport axios from 'axios';\nimport CommentComponent from '@/components/CommentComponent.vue';\nimport AddCommentComponent from '@/components/AddCommentComponent.vue';\nimport QuizComponent from '@/components/QuizComponent.vue';\nimport VideoComponent from '@/components/VideoComponent.vue';\n\n\nexport default {\n    data() {\n        return {\n            course: {\n                created_by: {}\n            },\n            lessons: [],\n            activeLesson: null,\n            errors: [],\n            comments: [],\n            quiz: {},\n            selectedAnswer: '',\n            quizResult: null,\n            activity: {},\n\n        };\n    },\n    async mounted() {\n\n        const slug = this.$route.params.slug\n        await axios\n            .get(`/courses/${slug}/`)\n            .then(response => {\n                console.log(response.data);\n                this.course = response.data.course;\n                this.lessons = response.data.lessons;\n            });\n\n        document.title = this.course.title\n    },\n\n    methods: {\n\n        submitComment(comment) {\n            this.comments.push(comment)\n        },\n\n        setActiveLesson(lesson) {\n            this.activeLesson = lesson\n\n            if (lesson.lesson_type === 'quiz') {\n                this.getQuiz()\n            } else {\n                this.getComments()\n            }\n\n            this.trackStarted()\n        },\n\n        trackStarted() {\n            axios\n                .post(`activities/track-started/${this.$route.params.slug}/${this.activeLesson.slug}/`)\n                .then(response => {\n                    console.log(response.data)\n                    this.activity = response.data\n\n                })\n                .catch(error => {\n                    console.log(error.data)\n                })\n\n        },\n\n        markAsDone() {\n            axios\n                .post(`activities/mark-as-done/${this.$route.params.slug}/${this.activeLesson.slug}/`)\n                .then(response => {\n                    console.log(response.data)\n                    this.activity = response.data\n\n                })\n                .catch(error => {\n                    console.log(error.data)\n                })\n\n        },\n\n        getQuiz() {\n            axios\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`)\n                .then(response => {\n                    this.quiz = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        },\n        getComments() {\n\n            axios\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`)\n                .then(response => {\n                    console.log(response.data)\n                    this.comments = response.data\n                })\n\n        }\n    },\n\n\n    components: { router, CommentComponent, AddCommentComponent, QuizComponent, VideoComponent }\n}\n</script>"],"mappings":";AAyEA,OAAOA,MAAK,MAAO,UAAU;AAC7B,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,OAAOC,mBAAkB,MAAO,sCAAsC;AACtE,OAAOC,aAAY,MAAO,gCAAgC;AAC1D,OAAOC,cAAa,MAAO,iCAAiC;AAG5D,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE;QACJC,UAAU,EAAE,CAAC;MACjB,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,IAAI;MAClBC,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,CAAC,CAAC;MACRC,cAAc,EAAE,EAAE;MAClBC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE,CAAC;IAEf,CAAC;EACL,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IAEZ,MAAMC,IAAG,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,IAAG;IACnC,MAAMjB,KAAI,CACLoB,GAAG,CAAE,YAAWH,IAAK,GAAE,EACvBI,IAAI,CAACC,QAAO,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACjB,IAAI,CAAC;MAC1B,IAAI,CAACC,MAAK,GAAIgB,QAAQ,CAACjB,IAAI,CAACC,MAAM;MAClC,IAAI,CAACE,OAAM,GAAIc,QAAQ,CAACjB,IAAI,CAACG,OAAO;IACxC,CAAC,CAAC;IAENiB,QAAQ,CAACC,KAAI,GAAI,IAAI,CAACpB,MAAM,CAACoB,KAAI;EACrC,CAAC;EAEDC,OAAO,EAAE;IAELC,aAAaA,CAACC,OAAO,EAAE;MACnB,IAAI,CAAClB,QAAQ,CAACmB,IAAI,CAACD,OAAO;IAC9B,CAAC;IAEDE,eAAeA,CAACC,MAAM,EAAE;MACpB,IAAI,CAACvB,YAAW,GAAIuB,MAAK;MAEzB,IAAIA,MAAM,CAACC,WAAU,KAAM,MAAM,EAAE;QAC/B,IAAI,CAACC,OAAO,CAAC;MACjB,OAAO;QACH,IAAI,CAACC,WAAW,CAAC;MACrB;MAEA,IAAI,CAACC,YAAY,CAAC;IACtB,CAAC;IAEDA,YAAYA,CAAA,EAAG;MACXpC,KAAI,CACCqC,IAAI,CAAE,4BAA2B,IAAI,CAACnB,MAAM,CAACC,MAAM,CAACF,IAAK,IAAG,IAAI,CAACR,YAAY,CAACQ,IAAK,GAAE,EACrFI,IAAI,CAACC,QAAO,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACjB,IAAI;QACzB,IAAI,CAACU,QAAO,GAAIO,QAAQ,CAACjB,IAAG;MAEhC,CAAC,EACAiC,KAAK,CAACC,KAAI,IAAK;QACZhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAClC,IAAI;MAC1B,CAAC;IAET,CAAC;IAEDmC,UAAUA,CAAA,EAAG;MACTxC,KAAI,CACCqC,IAAI,CAAE,2BAA0B,IAAI,CAACnB,MAAM,CAACC,MAAM,CAACF,IAAK,IAAG,IAAI,CAACR,YAAY,CAACQ,IAAK,GAAE,EACpFI,IAAI,CAACC,QAAO,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACjB,IAAI;QACzB,IAAI,CAACU,QAAO,GAAIO,QAAQ,CAACjB,IAAG;MAEhC,CAAC,EACAiC,KAAK,CAACC,KAAI,IAAK;QACZhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAClC,IAAI;MAC1B,CAAC;IAET,CAAC;IAED6B,OAAOA,CAAA,EAAG;MACNlC,KAAI,CACCoB,GAAG,CAAE,WAAU,IAAI,CAACd,MAAM,CAACW,IAAK,IAAG,IAAI,CAACR,YAAY,CAACQ,IAAK,YAAW,EACrEI,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACV,IAAG,GAAIU,QAAQ,CAACjB,IAAG;MAC5B,CAAC,EACAiC,KAAK,CAACC,KAAI,IAAK;QACZhB,OAAO,CAACC,GAAG,CAACe,KAAK;MACrB,CAAC;IACT,CAAC;IACDJ,WAAWA,CAAA,EAAG;MAEVnC,KAAI,CACCoB,GAAG,CAAE,WAAU,IAAI,CAACd,MAAM,CAACW,IAAK,IAAG,IAAI,CAACR,YAAY,CAACQ,IAAK,eAAc,EACxEI,IAAI,CAACC,QAAO,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACjB,IAAI;QACzB,IAAI,CAACM,QAAO,GAAIW,QAAQ,CAACjB,IAAG;MAChC,CAAC;IAET;EACJ,CAAC;EAGDoC,UAAU,EAAE;IAAE1C,MAAM;IAAEE,gBAAgB;IAAEC,mBAAmB;IAAEC,aAAa;IAAEC;EAAe;AAC/F"},"metadata":{},"sourceType":"module","externalDependencies":[]}