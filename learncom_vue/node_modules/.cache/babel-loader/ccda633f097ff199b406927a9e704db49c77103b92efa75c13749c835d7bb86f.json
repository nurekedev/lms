{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"courses\"\n};\nconst _hoisted_2 = {\n  class: \"hero is-info\"\n};\nconst _hoisted_3 = {\n  class: \"hero-body has-text-centered\"\n};\nconst _hoisted_4 = {\n  class: \"title\"\n};\nconst _hoisted_5 = {\n  class: \"subtitle\"\n};\nconst _hoisted_6 = {\n  class: \"section\"\n};\nconst _hoisted_7 = {\n  class: \"container\"\n};\nconst _hoisted_8 = {\n  class: \"columns content\"\n};\nconst _hoisted_9 = {\n  class: \"column is-2\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Table of contents\", -1 /* HOISTED */);\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  class: \"column is-10\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Introduction\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_15 = {\n  key: 1,\n  class: \"tag is-success\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_18 = {\n  key: 1\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"h2\", null, \" Restricted access \", -1 /* HOISTED */);\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Please sig in\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_QuizComponent = _resolveComponent(\"QuizComponent\");\n  const _component_VideoComponent = _resolveComponent(\"VideoComponent\");\n  const _component_CommentComponent = _resolveComponent(\"CommentComponent\");\n  const _component_AddCommentComponent = _resolveComponent(\"AddCommentComponent\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString($data.course.title), 1 /* TEXT */), _createTextVNode(\" by \"), _createElementVNode(\"p\", _hoisted_5, _toDisplayString($data.course.created_by.first_name + ' ' + $data.course.created_by.last_name), 1 /* TEXT */)])]), _createElementVNode(\"section\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.lessons, lesson => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: lesson.id\n    }, [_createElementVNode(\"a\", {\n      onClick: $event => $options.setActiveLesson(lesson)\n    }, _toDisplayString(lesson.title), 9 /* TEXT, PROPS */, _hoisted_11)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _ctx.$store.state.user.isAuthenticated ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [$data.activeLesson ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createElementVNode(\"h2\", null, _toDisplayString($data.activeLesson.title), 1 /* TEXT */), _hoisted_14, $data.activity.status == 'started' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: \"tag is-warning\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.markAsDone && $options.markAsDone(...args))\n  }, \" Started \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \" Done \")), _hoisted_16, _createTextVNode(\" \" + _toDisplayString($data.activeLesson.long_desription) + \" \", 1 /* TEXT */), _hoisted_17, $data.activeLesson.lesson_type === 'quiz' ? (_openBlock(), _createBlock(_component_QuizComponent, {\n    key: 2,\n    quiz: $data.quiz\n  }, null, 8 /* PROPS */, [\"quiz\"])) : _createCommentVNode(\"v-if\", true), $data.activeLesson.lesson_type === 'video' ? (_openBlock(), _createBlock(_component_VideoComponent, {\n    key: 3,\n    youtube_id: $data.activeLesson.youtube_id\n  }, null, 8 /* PROPS */, [\"youtube_id\"])) : _createCommentVNode(\"v-if\", true), $data.activeLesson.lesson_type === 'article' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 4\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.comments, comment => {\n    return _openBlock(), _createBlock(_component_CommentComponent, {\n      key: comment.id,\n      comment: comment\n    }, null, 8 /* PROPS */, [\"comment\"]);\n  }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_AddCommentComponent, {\n    course: $data.course,\n    \"active-lesson\": $data.activeLesson,\n    onSubmitComment: $options.submitComment\n  }, null, 8 /* PROPS */, [\"course\", \"active-lesson\", \"onSubmitComment\"])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(\"p\", _hoisted_18, _toDisplayString($data.course.long_desription), 1 /* TEXT */))], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_hoisted_19, _hoisted_20], 64 /* STABLE_FRAGMENT */))])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","course","title","_hoisted_5","created_by","first_name","last_name","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","lessons","lesson","key","id","onClick","$event","$options","setActiveLesson","_hoisted_11","_hoisted_12","_hoisted_13","_ctx","$store","state","user","isAuthenticated","activeLesson","_hoisted_14","activity","status","_cache","args","markAsDone","_hoisted_15","_hoisted_16","long_desription","_hoisted_17","lesson_type","_createBlock","_component_QuizComponent","quiz","_component_VideoComponent","youtube_id","comments","comment","_component_CommentComponent","_createVNode","_component_AddCommentComponent","onSubmitComment","submitComment","_hoisted_18","_hoisted_19","_hoisted_20"],"sources":["/Users/nurzhansaktaganov/Desktop/LMS/learncom_vue/src/views/CourseDetail.vue"],"sourcesContent":["<template>\n    <div class=\"courses\">\n        <div class=\"hero is-info\">\n            <div class=\"hero-body has-text-centered\">\n                <h1 class=\"title\"> {{ course.title }} </h1>\n                by <p class=\"subtitle\">{{ course.created_by.first_name + ' ' + course.created_by.last_name }}</p>\n            </div>\n        </div>\n\n        <section class=\"section\">\n            <div class=\"container\">\n                <div class=\"columns content\">\n                    <div class=\"column is-2\">\n                        <h2>Table of contents</h2>\n                        <ul>\n                            <li v-for=\"lesson in lessons\" v-bind:key=\"lesson.id\">\n                                <a @click=\"setActiveLesson(lesson)\">{{ lesson.title }}</a>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <div class=\"column is-10\">\n                        <h2>Introduction</h2>\n                        <template v-if=\"$store.state.user.isAuthenticated\">\n                            <template v-if=\"activeLesson\">\n                                <h2>{{ activeLesson.title }}</h2>\n                                <hr>\n\n                                <span class=\"tag is-warning\" v-if=\"activity.status == 'started'\" @click=\"markAsDone\">\n                                    Started\n                                </span>\n\n                                <span class=\"tag is-success\" v-else=\"activity.status == 'done'\">\n                                    Done\n                                </span>\n\n                                <hr>\n                                {{ activeLesson.long_desription }}\n                                <hr>\n\n                                <template v-if=\"activeLesson.lesson_type === 'quiz'\">\n                                    <QuizComponent v-bind:quiz=\"quiz\" />\n                                </template>\n\n                                <template v-if=\"activeLesson.lesson_type === 'video'\">\n                                    <VideoComponent v-bind:youtube_id=\"activeLesson.youtube_id\" />\n                                </template>\n\n                                <template v-if=\"activeLesson.lesson_type === 'article'\">\n                                    <CommentComponent v-for=\"comment in comments\" v-bind:key=\"comment.id\"\n                                        v-bind:comment=\"comment\" />\n\n                                    <AddCommentComponent v-bind:course=\"course\" v-bind:active-lesson=\"activeLesson\"\n                                        v-on:submitComment=\"submitComment\" />\n\n                                </template>\n                            </template>\n                            <template v-else>\n                                <p>{{ course.long_desription }}</p>\n                            </template>\n\n                        </template>\n                        <template v-else>\n                            <h2> Restricted access </h2>\n                            <p>Please sig in</p>\n                        </template>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n<script>\nimport router from '@/router';\nimport axios from 'axios';\nimport CommentComponent from '@/components/CommentComponent.vue';\nimport AddCommentComponent from '@/components/AddCommentComponent.vue';\nimport QuizComponent from '@/components/QuizComponent.vue';\nimport VideoComponent from '@/components/VideoComponent.vue';\n\n\nexport default {\n    data() {\n        return {\n            course: {\n                created_by: {\n\n                }\n            },\n            lessons: [],\n            activeLesson: null,\n            errors: [],\n            comments: [],\n            quiz: {},\n            selectedAnswer: '',\n            quizResult: null,\n            activity: {},\n\n        };\n    },\n    async mounted() {\n\n        const slug = this.$route.params.slug\n        await axios\n            .get(`/courses/${slug}/`)\n            .then(response => {\n                console.log(response.data);\n                this.course = response.data.course;\n                this.lessons = response.data.lessons;\n            });\n\n        document.title = this.course.title\n    },\n\n    methods: {\n\n        submitComment(comment) {\n            this.comments.push(comment)\n        },\n\n        setActiveLesson(lesson) {\n            this.activeLesson = lesson\n\n            if (lesson.lesson_type === 'quiz') {\n                this.getQuiz()\n            } else {\n                this.getComments()\n            }\n\n            this.trackStarted()\n        },\n\n        trackStarted() {\n            axios\n                .post(`activities/track-started/${this.$route.params.slug}/${this.activeLesson.slug}/`)\n                .then(response => {\n                    console.log(response.data)\n                    this.activity = response.data\n\n                })\n                .catch(error => {\n                    console.log(error.data)\n                })\n\n        },\n\n        markAsDone() {\n            axios\n                .post(`activities/mark-as-done/${this.$route.params.slug}/${this.activeLesson.slug}/`)\n                .then(response => {\n                    console.log(response.data)\n                    this.activity = response.data\n\n                })\n                .catch(error => {\n                    console.log(error.data)\n                })\n\n        },\n\n        getQuiz() {\n            axios\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`)\n                .then(response => {\n                    this.quiz = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        },\n        getComments() {\n\n            axios\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`)\n                .then(response => {\n                    console.log(response.data)\n                    this.comments = response.data\n                })\n\n        }\n    },\n\n\n    components: { router, CommentComponent, AddCommentComponent, QuizComponent, VideoComponent }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}