{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '@/router';\nimport axios from 'axios';\nimport CommentComponent from '@/components/CommentComponent.vue';\nexport default {\n  data() {\n    return {\n      course: {},\n      lessons: [],\n      activeLesson: null,\n      errors: [],\n      comments: [],\n      quiz: {},\n      selectedAnswer: '',\n      quizResult: null,\n      comment: {\n        name: '',\n        content: ''\n      }\n    };\n  },\n  async mounted() {\n    const slug = this.$route.params.slug;\n    await axios.get(`/api/v1/courses/${slug}/`).then(response => {\n      console.log(response.data);\n      this.course = response.data.course;\n      this.lessons = response.data.lessons;\n    });\n    document.title = this.course.title;\n  },\n  methods: {\n    submitQuiz() {\n      this.quizResult = null;\n      if (this.selectedAnswer) {\n        if (this.selectedAnswer === this.quiz.answer) {\n          this.quizResult = 'Correct';\n        } else {\n          this.quizResult = 'Incorrect';\n        }\n      } else {\n        alert('Select answer');\n      }\n    },\n    submitComment() {\n      console.log(\"submit comment\");\n      this.errors = [];\n      if (this.comment.name === '') {\n        this.errors.push('The name must be filled out');\n      }\n      if (this.comment.content === '') {\n        this.errors.push('The content must be filled out');\n      }\n      if (!this.errors.length) {\n        axios.post(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/`, this.comment).then(response => {\n          this.comment.name = '';\n          this.comment.content = '';\n          this.comments.push(response.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n    setActiveLesson(lesson) {\n      this.activeLesson = lesson;\n      if (lesson.lesson_type === 'quiz') {\n        this.getQuiz();\n      } else {\n        this.getComments();\n      }\n    },\n    getQuiz() {\n      axios.get(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`).then(response => {\n        this.quiz = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getComments() {\n      axios.get(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`).then(response => {\n        console.log(response.data);\n        this.comments = response.data;\n      });\n    }\n  },\n  components: {\n    router,\n    CommentComponent\n  }\n};","map":{"version":3,"names":["router","axios","CommentComponent","data","course","lessons","activeLesson","errors","comments","quiz","selectedAnswer","quizResult","comment","name","content","mounted","slug","$route","params","get","then","response","console","log","document","title","methods","submitQuiz","answer","alert","submitComment","push","length","post","catch","error","setActiveLesson","lesson","lesson_type","getQuiz","getComments","components"],"sources":["/Users/nurzhansaktaganov/Desktop/LMS/learncom_vue/src/views/CourseDetail.vue"],"sourcesContent":["<template>\n    <div class=\"courses\">\n        <div class=\"hero is-info\">\n            <div class=\"hero-body has-text-centered\">\n                <h1 class=\"title\"> {{ course.title }} </h1>\n            </div>\n        </div>\n\n        <section class=\"section\">\n            <div class=\"container\">\n                <div class=\"columns content\">\n                    <div class=\"column is-2\">\n                        <h2>Table of contents</h2>\n                        <ul>\n                            <li v-for=\"lesson in lessons\" v-bind:key=\"lesson.id\">\n                                <a @click=\"setActiveLesson(lesson)\">{{ lesson.title }}</a>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <div class=\"column is-10\">\n                        <h2>Introduction</h2>\n                        <template v-if=\"$store.state.user.isAuthenticated\">\n                            <template v-if=\"activeLesson\">\n                                <h2>{{ activeLesson.title }}</h2>\n                                {{ activeLesson.long_desription }}\n                                <hr>\n\n                                <template v-if=\"activeLesson.lesson_type === 'quiz'\">\n                                    <h3>{{ quiz.question }}</h3>\n                                    <div class=\"control\">\n                                        <label class=\"radio\">\n                                            <input type=\"radio\" :value=\"quiz.option1\" v-model=\"selectedAnswer\">{{\n                                                quiz.option1 }}\n                                        </label>\n                                    </div>\n\n                                    <div class=\"control\">\n                                        <label class=\"radio\">\n                                            <input type=\"radio\" :value=\"quiz.option2\" v-model=\"selectedAnswer\">{{\n                                                quiz.option2 }}\n                                        </label>\n                                    </div>\n\n                                    <div class=\"control\">\n                                        <label class=\"radio\">\n                                            <input type=\"radio\" :value=\"quiz.option3\" v-model=\"selectedAnswer\">{{\n                                                quiz.option3 }}\n                                        </label>\n                                    </div>\n\n                                    <div class=\"control is-4\">\n                                        <button class=\"button is-info\" @click=\"submitQuiz\">Submit</button>\n                                    </div>\n\n                                    <template v-if=\"quizResult == 'Correct'\">\n                                        <div class=\"notification is-success mt-4\">Correct</div>\n                                    </template>\n\n                                    <template v-if=\"quizResult == 'Incorrect'\">\n                                        <div class=\"notification is-danger mt-4\">Correct</div>\n                                    </template>\n\n\n                                </template>\n\n                                <template v-if=\"activeLesson.lesson_type === 'article'\">\n                                    <CommentComponent \n                                    v-for=\"comment in comments\" \n                                    v-bind:key=\"comment.id\" \n                                    v-bind:comment=\"comment\"/>\n\n                                    <form v-on:submit.prevent=\"submitComment()\">\n                                        <div class=\"field\">\n                                            <label class=\"label\">Name</label>\n                                            <div class=\"control\">\n                                                <input type=\"text\" class=\"input\" v-model=\"comment.name\">\n                                            </div>\n                                        </div>\n\n                                        <div class=\"field\">\n                                            <label class=\"label\">Content</label>\n                                            <div class=\"control\">\n                                                <textarea class=\"textarea\" v-model=\"comment.content\"></textarea>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"notification is-danger\" v-for=\"error in errors\" v-bind:key=\"error\">\n\n                                            {{ error }}\n\n                                        </div>\n\n                                        <div class=\"field\">\n                                            <div class=\"control\">\n                                                <button type=\"submit\" class=\"button is-link\">submit</button>\n                                            </div>\n                                        </div>\n                                    </form>\n                                </template>\n                            </template>\n                            <template v-else>\n                                <p>{{ course.long_desription }}</p>\n                            </template>\n\n                        </template>\n                        <template v-else>\n                            <h2> Restricted access </h2>\n                            <p>Please sig in</p>\n                        </template>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n<script>\nimport router from '@/router';\nimport axios from 'axios';\nimport CommentComponent from '@/components/CommentComponent.vue';\n\n\n\nexport default {\n    data() {\n        return {\n            course: {},\n            lessons: [],\n            activeLesson: null,\n            errors: [],\n            comments: [],\n            quiz: {},\n            selectedAnswer: '',\n            quizResult: null,\n            comment: {\n                name: '',\n                content: ''\n            }\n        };\n    },\n    async mounted() {\n\n        const slug = this.$route.params.slug\n        await axios\n            .get(`/api/v1/courses/${slug}/`)\n            .then(response => {\n                console.log(response.data);\n                this.course = response.data.course;\n                this.lessons = response.data.lessons;\n            });\n\n        document.title = this.course.title\n    },\n\n    methods: {\n\n        submitQuiz() {\n            this.quizResult = null\n\n            if (this.selectedAnswer) {\n\n                if (this.selectedAnswer === this.quiz.answer) {\n                    this.quizResult = 'Correct'\n                } else {\n                    this.quizResult = 'Incorrect'\n                }\n\n            } else {\n                alert('Select answer')\n            }\n        },\n\n        submitComment() {\n            console.log(\"submit comment\")\n\n            this.errors = []\n\n            if (this.comment.name === '') {\n                this.errors.push('The name must be filled out')\n            }\n\n            if (this.comment.content === '') {\n                this.errors.push('The content must be filled out')\n            }\n\n            if (!this.errors.length) {\n                axios\n                    .post(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/`, this.comment)\n                    .then(response => {\n                        this.comment.name = ''\n                        this.comment.content = ''\n                        this.comments.push(response.data)\n                    })\n                    .catch(error => {\n                        console.log(error)\n                    })\n            }\n        },\n\n        setActiveLesson(lesson) {\n            this.activeLesson = lesson\n\n            if (lesson.lesson_type === 'quiz') {\n                this.getQuiz()\n            } else {\n                this.getComments()\n            }\n        },\n        getQuiz() {\n            axios\n                .get(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`)\n                .then(response => {\n                    this.quiz = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        },\n        getComments() {\n\n            axios\n                .get(`api/v1/courses/${this.course.slug}/${this.activeLesson.slug}/get-comments`)\n                .then(response => {\n                    console.log(response.data)\n                    this.comments = response.data\n                })\n\n        }\n    },\n\n\n    components: { router, CommentComponent }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}